
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Functional Testing &#8212; rho 2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions (FAQ)" href="faq.html" />
    <link rel="prev" title="Remote Programs" href="remote_programs.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="functional-testing">
<h1>Functional Testing<a class="headerlink" href="#functional-testing" title="Permalink to this headline">¶</a></h1>
<p>The nature of <code class="docutils literal notranslate"><span class="pre">rho</span></code> tool is to discover and scan remote systems. In order
to test this feature locally we need to employ tools to allow us to simulate
a remote environment. We will be utilizing
<a class="reference external" href="https://www.vagrantup.com/">Vagrant</a> and
<a class="reference external" href="https://www.virtualbox.org/wiki/VirtualBox">Virtual Box</a> along with Ansible
to create and initialize several virtual systems.</p>
<div class="section" id="installing-dependencies">
<h2>Installing Dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this headline">¶</a></h2>
<p><em>Virtual Box</em></p>
<p>For OS X you can go to the <a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">Virtualbox downloads</a> page and installation using the
DMG image.</p>
<p>For Fedora or RHEL systems:
Add the <a class="reference external" href="http://download.virtualbox.org/virtualbox/rpm/fedora/virtualbox.repo">repo file</a>
to /etc/yum.repos.d, then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">VirtualBox</span><span class="o">-</span><span class="mf">5.1</span>
</pre></div>
</div>
<p>In order to configure VirtualBox run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">kernel</span><span class="o">-</span><span class="n">devel</span>
<span class="n">sudo</span> <span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">vboxconfig</span>
</pre></div>
</div>
<p>The first command installs the Linux kernel development headers, and the
second tells VirtualBox to build the custom kernel module that it uses.</p>
<p><em>Vagrant</em></p>
<p>For OS X you can go to the <a class="reference external" href="https://www.vagrantup.com/downloads.html">Vagrant downloads</a> page and installation using the
DMG image.</p>
<p>For Fedora or RHEL systems:
Go to <a class="reference external" href="www.vagrantup.com">www.vagrantup.com</a>, click on “Download”, and get
the Centos 64-bit RPM. Then install with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rpm</span> <span class="o">-</span><span class="n">ivh</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;.</span><span class="n">rpm</span>
</pre></div>
</div>
</div>
<div class="section" id="provisioning-virtual-systems">
<h2>Provisioning Virtual Systems<a class="headerlink" href="#provisioning-virtual-systems" title="Permalink to this headline">¶</a></h2>
<p>From the root directory of the local repository you will see a file named
<cite>Vagrantfile</cite> which specifies three systems that will be setup and initialized
using Ansible. The playbook to be used by Ansible exists in the <cite>vagrant</cite>
directory. Run the following command to provision the systems:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vagrant</span> <span class="n">up</span>
</pre></div>
</div>
</div>
<div class="section" id="note-testing-on-rhel">
<h2>Note: testing on RHEL<a class="headerlink" href="#note-testing-on-rhel" title="Permalink to this headline">¶</a></h2>
<p>The Vagrantfile assumes the existance of a Vagrant box called
<cite>rhel-server-7-1</cite>. You can make a RHEL box by following one of the
many tutorials, such as
<a class="reference external" href="https://developers.redhat.com/blog/2016/06/06/using-vagrant-to-get-started-with-rhel/">https://developers.redhat.com/blog/2016/06/06/using-vagrant-to-get-started-with-rhel/</a>
.</p>
<p>If you don’t want to test with RHEL, you can replace that box name
with a different one, such as <cite>centos/7</cite>.</p>
</div>
<div class="section" id="executing-rho-on-test-bed">
<h2>Executing rho on Test Bed<a class="headerlink" href="#executing-rho-on-test-bed" title="Permalink to this headline">¶</a></h2>
<p>You should have three virtual systems running with the following IP Address:
- 192.168.50.10
- 192.168.50.11
- 192.168.50.12</p>
<p>As part of the Ansible configuration your <cite>id_rsa.pub</cite> file should have been
copied to these machines enabling you to ssh to them locally using the
<cite>vagrant</cite> user. Feel free to try it out with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">vagrant</span><span class="nd">@192</span><span class="o">.</span><span class="mf">168.50</span><span class="o">.</span><span class="mi">10</span>
</pre></div>
</div>
<p>Once you have confirmed connection to your test bed you can run the following
commands to execute a scan using <cite>rho</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="n">auth</span> <span class="n">add</span> <span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="n">test</span> <span class="o">--</span><span class="n">username</span><span class="o">=</span><span class="n">vagrant</span> <span class="o">--</span><span class="n">sshkeyfile</span><span class="o">=~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span>
<span class="n">rho</span> <span class="n">profile</span> <span class="n">add</span> <span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="n">all_test</span> <span class="o">--</span><span class="n">hosts</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">50.</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span> <span class="o">--</span><span class="n">auth</span> <span class="n">test</span>
<span class="n">rho</span> <span class="n">scan</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">all_test</span> <span class="o">--</span><span class="n">reportfile</span><span class="o">=</span><span class="n">out</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Note you create the auth with your private key that matches the public key on
the test machine.
You should be able to view the output of the scan in your local directory.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">rho</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="command_syntax_usage.html">Command Syntax &amp; Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_example.html">Example rho Scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_programs.html">Remote Programs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Functional Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-dependencies">Installing Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#provisioning-virtual-systems">Provisioning Virtual Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-testing-on-rhel">Note: testing on RHEL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#executing-rho-on-test-bed">Executing rho on Test Bed</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="remote_programs.html" title="previous chapter">Remote Programs</a></li>
      <li>Next: <a href="faq.html" title="next chapter">Frequently Asked Questions (FAQ)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Red Hat.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/functional_test.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>